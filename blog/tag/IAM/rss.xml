<?xml version="1.0" encoding="UTF-8" ?>

<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   
      <title>https://alamgirm.github.io/blog/</title>
   
   <link>https://alamgirm.github.io</link>
   <description>Programming, Automation, Data Science, Machine Learning, Visualizations, Arduino, Raspberry Pi and other IoT.</description>
   <language>en_GB</language>
   <managingEditor> alamgir</managingEditor>
   <atom:link href="rss" rel="self" type="application/rss+xml" />
   
	<item>
	  <title>Continuous Integration and Continuous Deployment on AWS : part I - setup IAM</title>
	  <link>//Continuous-Integration-and-Continuous-Development-using-AWS-part-I</link>
	  <author>alamgir</author>
	  <pubDate>2017-12-16T15:18:00-05:00</pubDate>
	  <guid>//Continuous-Integration-and-Continuous-Development-using-AWS-part-I</guid>
	  <description><![CDATA[
	     <p><img src="/assets/images/2017/17_12_16/cicd-0.png" alt="CICD" class="leftimg" />
DevOps philosophy has it that an application is better developed, tested and deployed in small pieces, in a continuous manner. This hopefully serves the changing requirements (of the clients or users) in both time and cost effective way. The developers, and operational team also always have something that is proved to be working, something to roll back to in case a change does not end successfully. To practically embrace the philosphy there needs to be an organizational pipeline where the teams (development, QA testing, deployment, monitoring etc) participate. And for better communication among the teams, most if not all teams use same kind of automation tools/platforms. This post is the first in a series of posts that talks about automation tools, employed on Amazon AWS cloud platform.</p>

<!--more-->

<h3 id="aws-setup">AWS Setup</h3>
<p>The first thing someone should do is to create an IAM user, and not use the root or main AWS account. It is straightforward- login to your AWS root account at: console.aws.amazon.com
<img src="/assets/images/2017/17_12_16/aws-root-login.png" alt="AWS Root login" class="leftimg" />
If you have multi-factor authentication (MFA) enabled, a second screen will be appearing asking for authentication code. After successful login appears the AWS dashboard that lists many of the services AWS offers. A searchbox is readily available to quickly navigate to a service. We need the IAM service. Clicking on IAM will take to the IAM dashboard:
<img src="/assets/images/2017/17_12_16/iam-dashboard.png" alt="IAM dashboard" class="leftimg" /></p>

<p>We need to create a new user (with limited priviledges) for all the exercises related to DevOps tools. Click on <code class="highlighter-rouge">Users</code> on the left pane, then <code class="highlighter-rouge">Add User</code> on the top to initiate the user creation process.
<img src="/assets/images/2017/17_12_16/iam-add-user.png" alt="IAM Add User" class="leftimg" /></p>

<p>I am using <code class="highlighter-rouge">DevOpUser</code> as user name, and checking both <em>Programmatic</em> and <em>AWS Management Console</em> access check boxes. I am letting AWS autogenerate a password, but not forcing the user to reset the password.  Hitting <em>Next</em> will take us to permissions.</p>

<p>On Permissions screen, I am choosing the <em>Attach existing policies directly</em> option. Typing EC2 in the search box, I choose <code class="highlighter-rouge">EC2FullAceess</code> and <code class="highlighter-rouge">S3FullAccess</code>. Then follw next to finally create the user. I click on <strong>Download.csv</strong> button to save the login credentials for  newly created user <code class="highlighter-rouge">DevOpUser</code>. Also take note of the login url:
<code class="highlighter-rouge">https://xxxxxx.signin.aws.amazon.com/console</code> (xxxxxx denotes string I removed for privacy).
<img src="/assets/images/2017/17_12_16/iam-add-user-done.png" alt="IAM Add User" class="leftimg" /></p>

<p>To keep things organized on my own local machine (a MacBook), I created a folder named <code class="highlighter-rouge">DevOps</code> under my home directory. The whole patch should be <code class="highlighter-rouge">/Users/&lt;username&gt;/DevOps</code>. I copy the credential file downloaded in the last step into this directory.</p>

<h3 id="more-aws-setup">More AWS Setup</h3>
<p>The user created above has full priviledge in using EC2 service. However, we need one more priviledge: access to <code class="highlighter-rouge">CloudFormation</code> so that we can create a set of EC2 instances from code, in an automated way. We go back to IAM service dashboard and click on <code class="highlighter-rouge">Users</code> on the left panel, then select the user <code class="highlighter-rouge">DevOpUser</code>. It should show a summary of the user, and a button at the bottom to add <code class="highlighter-rouge">inline policy</code>. I clicked on <code class="highlighter-rouge">Add inline policy</code> then chose <code class="highlighter-rouge">Custom Policy</code>, then finally pasted this piece of code in the editor:</p>
<pre>
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "cloudformation:Describe*",
                "cloudformation:List*",
                "cloudformation:Get*",
                "cloudformation:Create*",
                "cloudformation:Delete*",
                "cloudformation:Update*",
                "cloudformation:Validate*"
            ],
            "Resource": "*"
        }
    ]
}
</pre>

<p>I named the policy as <code class="highlighter-rouge">CloudFormationFullAccess</code>, then validated the policy before applying. Though validation should be enough, however if you want to be abolutely sure, there is an easy way to simulate the policies attached to the user. This simulation allows us to find out if the user has enough priviledges to do things it needs to. The simulator found at <a href="https://policysim.aws.amazon.com"> Amazon site </a>.</p>

<h3 id="testing-new-user">Testing new User</h3>
<p>The login url for (non-root) limited-rights user is different.  You shoul be able to see it immediately after creating the user. Generally it has the following format:</p>
<pre>
https://Root_Account_ID.signin.aws.amazon.com/console/
</pre>
<p>Where <code class="highlighter-rouge">Root_Accound_ID</code> is the either the account number or alias of the root account. Visiting the login link, and after providing the user name and password for <code class="highlighter-rouge">DevOpUser</code> I found this dashboard.
<img src="/assets/images/2017/17_12_16/iam-user-dashboard.png" alt="User Dashboard" class="leftimg" />
This dashboard allows creating and managing AWS services. In addition to this dashboard, AWS allows creating and managing service resouces via programmatic access. In the next post we’ll see how to create EC2 instances
using AWS CLI (command line  interface).</p>


	  ]]></description>
	</item>

	<item>
	  <title>Continuous Integration and Continuous Development on AWS : part I - setup IAM</title>
	  <link>//Continuous-Integration-and-Continuous-Deployment-using-AWS-part-I</link>
	  <author>alamgir</author>
	  <pubDate>2017-12-16T15:18:00-05:00</pubDate>
	  <guid>//Continuous-Integration-and-Continuous-Deployment-using-AWS-part-I</guid>
	  <description><![CDATA[
	     <p><img src="/assets/images/2017/17_12_16/cicd-0.png" alt="CICD" class="leftimg" />
DevOps philosophy has it that an application is better developed, tested and deployed in small pieces, in a continuous manner. This hopefully serves the changing requirements (of the clients or users) in both time and cost effective way. The developers, and operational team also always have something that is proved to be working, something to roll back to in case a change does not end successfully. To practically embrace the philosphy there needs to be an organizational pipeline where the teams (development, QA testing, deployment, monitoring etc) participate. And for better communication among the teams, most if not all teams use same kind of automation tools/platforms. This post is the first in a series of posts that talks about automation tools, employed on Amazon AWS cloud platform.</p>

<!--more-->

<h3 id="aws-setup">AWS Setup</h3>
<p>The first thing someone should do is to create an IAM user, and not use the root or main AWS account. It is straightforward- login to your AWS root account at: console.aws.amazon.com
<img src="/assets/images/2017/17_12_16/aws-root-login.png" alt="AWS Root login" class="leftimg" />
If you have multi-factor authentication (MFA) enabled, a second screen will be appearing asking for authentication code. After successful login appears the AWS dashboard that lists many of the services AWS offers. A searchbox is readily available to quickly navigate to a service. We need the IAM service. Clicking on IAM will take to the IAM dashboard:
<img src="/assets/images/2017/17_12_16/iam-dashboard.png" alt="IAM dashboard" class="leftimg" /></p>

<p>We need to create a new user (with limited priviledges) for all the exercises related to DevOps tools. Click on <code class="highlighter-rouge">Users</code> on the left pane, then <code class="highlighter-rouge">Add User</code> on the top to initiate the user creation process.
<img src="/assets/images/2017/17_12_16/iam-add-user.png" alt="IAM Add User" class="leftimg" /></p>

<p>I am using <code class="highlighter-rouge">DevOpUser</code> as user name, and checking both <em>Programmatic</em> and <em>AWS Management Console</em> access check boxes. I am letting AWS autogenerate a password, but not forcing the user to reset the password.  Hitting <em>Next</em> will take us to permissions.</p>

<p>On Permissions screen, I am choosing the <em>Attach existing policies directly</em> option. Typing EC2 in the search box, I choose <code class="highlighter-rouge">EC2FullAceess</code> and <code class="highlighter-rouge">S3FullAccess</code>. Then follw next to finally create the user. I click on <strong>Download.csv</strong> button to save the login credentials for  newly created user <code class="highlighter-rouge">DevOpUser</code>. Also take note of the login url:
<code class="highlighter-rouge">https://xxxxxx.signin.aws.amazon.com/console</code> (xxxxxx denotes string I removed for privacy).
<img src="/assets/images/2017/17_12_16/iam-add-user-done.png" alt="IAM Add User" class="leftimg" /></p>

<p>To keep things organized on my own local machine (a MacBook), I created a folder named <code class="highlighter-rouge">DevOps</code> under my home directory. The whole patch should be <code class="highlighter-rouge">/Users/&lt;username&gt;/DevOps</code>. I copy the credential file downloaded in the last step into this directory.</p>

<h3 id="more-aws-setup">More AWS Setup</h3>
<p>The user created above has full priviledge in using EC2 service. However, we need one more priviledge: access to <code class="highlighter-rouge">CloudFormation</code> so that we can create a set of EC2 instances from code, in an automated way. We go back to IAM service dashboard and click on <code class="highlighter-rouge">Users</code> on the left panel, then select the user <code class="highlighter-rouge">DevOpUser</code>. It should show a summary of the user, and a button at the bottom to add <code class="highlighter-rouge">inline policy</code>. I clicked on <code class="highlighter-rouge">Add inline policy</code> then chose <code class="highlighter-rouge">Custom Policy</code>, then finally pasted this piece of code in the editor:</p>
<pre>
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "cloudformation:Describe*",
                "cloudformation:List*",
                "cloudformation:Get*",
                "cloudformation:Create*",
                "cloudformation:Delete*",
                "cloudformation:Update*",
                "cloudformation:Validate*"
            ],
            "Resource": "*"
        }
    ]
}
</pre>

<p>I named the policy as <code class="highlighter-rouge">CloudFormationFullAccess</code>, then validated the policy before applying. Though validation should be enough, however if you want to be abolutely sure, there is an easy way to simulate the policies attached to the user. This simulation allows us to find out if the user has enough priviledges to do things it needs to. The simulator found at <a href="https://policysim.aws.amazon.com"> Amazon site </a>.</p>

<h3 id="testing-new-user">Testing new User</h3>
<p>The login url for (non-root) limited-rights user is different.  You shoul be able to see it immediately after creating the user. Generally it has the following format:</p>
<pre>
https://Root_Account_ID.signin.aws.amazon.com/console/
</pre>
<p>Where <code class="highlighter-rouge">Root_Accound_ID</code> is the either the account number or alias of the root account. Visiting the login link, and after providing the user name and password for <code class="highlighter-rouge">DevOpUser</code> I found this dashboard.
<img src="/assets/images/2017/17_12_16/iam-user-dashboard.png" alt="User Dashboard" class="leftimg" />
This dashboard allows creating and managing AWS services. In addition to this dashboard, AWS allows creating and managing service resouces via programmatic access. In the next post we’ll see how to create EC2 instances
using AWS CLI (command line  interface).</p>


	  ]]></description>
	</item>


</channel>
</rss>
